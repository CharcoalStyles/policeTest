(window.webpackJsonp=window.webpackJsonp||[]).push([[31,20],{461:function(e,t,r){"use strict";r.r(t);var o=r(464),n={components:{Popper:r.n(o).a},props:{size:{type:String,default:"md"},colour:{type:String,default:"grey"},tooltip:{type:String,default:""}},computed:{tooltipOptions:function(){return{placement:"bottom",modifiers:{offset:{offset:"0,5px"}}}},baseSize:function(){return"md"===this.size?"text-base":"text-sm"},iconSize:function(){return"md"===this.size?"h-4":"h-3"},badgeCursor:function(){return this.tooltip?"hover:cursor-pointer":"hover:cursor-default"},badgeBorder:function(){return"blue-outline"===this.colour?"border border-nsw-brand-primary-blue":""},textColor:function(){return"blue-outline"===this.colour?"text-nsw-brand-primary-blue":"text-nsw-grey-800"},badgeColour:function(){switch(this.colour){case"blue-outline":return"bg-white";case"blue":return"bg-role-pill-blue";case"green":return"bg-role-pill-green";case"orange":return"bg-orange-200";case"gray":return"bg-nsw-grey-100";default:return"bg-gray-200"}}}},l=r(16),component=Object(l.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex-shrink-0"},[t("popper",{attrs:{trigger:"hover",options:e.tooltipOptions,disabled:!e.tooltip}},[t("div",{staticClass:"popper"},[e._v("\n      "+e._s(e.tooltip)+"\n    ")]),e._v(" "),t("div",{staticClass:"px-3 py-0.5 inline-flex items-center rounded-full whitespace-no-wrap focus:outline-none",class:[e.baseSize,e.badgeColour,e.badgeCursor,e.badgeBorder,e.textColor],attrs:{slot:"reference"},slot:"reference"},[e._t("default"),e._v(" "),e.tooltip?t("img",{staticClass:"ml-2",class:e.iconSize,attrs:{src:"/icons/help.svg",alt:"Help icon"}}):e._e()],2)])],1)}),[],!1,null,null,null);t.default=component.exports},477:function(e,t,r){var content=r(489);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(55).default)("59330ea1",content,!0,{sourceMap:!1})},488:function(e,t,r){"use strict";r(477)},489:function(e,t,r){var o=r(54)((function(i){return i[1]}));o.push([e.i,".nsw-form-input.roles-autosuggest[data-v-fbf35388]:disabled{background-color:#fff!important;color:#000!important}ul[data-v-fbf35388]{z-index:50!important}",""]),o.locals={},e.exports=o},521:function(e,t,r){"use strict";r.r(t);r(28),r(52),r(35),r(26),r(101),r(43),r(44),r(31),r(25);var o=r(17),n=(r(30),r(102),r(465),r(13),r(38)),l=r(482),c=r(504),d=r(461);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v={components:{Autocomplete:c.a,InformationBadge:d.default},props:{step:{type:Object,required:!0}},data:function(){return{value:"",focussed:!1}},computed:h(h({},Object(n.b)(["getRoleByCode","answers"])),{},{currentValue:function(){var e;return null===(e=this.$store.state.pathway.answers[this.step.id])||void 0===e?void 0:e.value},defaultNoRole:function(){return this.getRoleByCode(99)},defaultValue:function(){return this.currentValue?this.getRoleByCode(this.currentValue).name:""},isDisabled:function(){return Boolean(this.currentValue)},currentRole:function(){return!!this.answers.hasOwnProperty("current-role")&&this.getRoleByCode(this.answers["current-role"].value)},filteredRoles:function(){var e=this;return this.$collect(this.$store.state.roles).filter((function(t){return!e.currentRole||t.id!==e.currentRole.id})).sort((function(a,b){var e=a.name.toUpperCase(),t=b.name.toUpperCase();return e<t?-1:e>t?1:0})).all()}}),methods:{updateValue:function(e){this.value=e.target.value},search:function(input){this.value=input;var e=new l.a(this.filteredRoles,["name","alias"],{sort:!0}).search(input);return 0===e.length?[this.defaultNoRole]:e},getResultValue:function(e){return e.name},selectRole:function(e){e&&e.id&&this.$store.dispatch("saveQuestionAnswer",{id:this.step.id,value:e.id})},clearRole:function(){this.$refs.autocomplete.value="",this.$store.dispatch("saveQuestionAnswer",{id:this.step.id,value:""})},isRoleSelected:function(e){return this.currentValue===e.id},toggleFocus:function(){this.focussed=!this.focussed},aliasList:function(e){return!!e&&e.join(", ")}}},m=(r(488),r(16)),component=Object(m.a)(v,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"nsw-forms"},[t("div",{staticClass:"nsw-form-group"},[t("autocomplete",{ref:"autocomplete",attrs:{search:e.search,"get-result-value":e.getResultValue,"default-value":e.defaultValue,placeholder:"Search by keyword, e.g. Case Officer, Intelligence, Coordinator","aria-label":"Search by keyword, e.g. Case Officer, Intelligence, Coordinator"},on:{submit:e.selectRole},scopedSlots:e._u([{key:"default",fn:function(r){var o=r.rootProps,n=r.inputProps,l=r.inputListeners,c=r.resultListProps,d=r.resultListListeners,f=r.results,h=r.resultProps;return[t("div",e._b({},"div",o,!1),[t("div",{staticClass:"relative"},[t("input",e._g(e._b({ref:"role",staticClass:"nsw-form-input roles-autosuggest placeholder-gray-700 disabled:text-black",attrs:{disabled:e.isDisabled},on:{focus:e.toggleFocus,blur:e.toggleFocus}},"input",n,!1),l)),e._v(" "),e.currentValue?t("div",{staticClass:"absolute top-0 bottom-0 right-0 flex justify-center pointer-events-none"},[t("button",{staticClass:"px-4 pointer-events-auto border-2 border-nsw-brand-primary-blue my-1 mr-1 font-semibold rounded",attrs:{"aria-label":"Clear selected role"},on:{click:e.clearRole}},[e._v("\n                Reset\n              ")])]):e._e()]),e._v(" "),f.length?t("ul",e._g(e._b({staticClass:"bg-white mt-2 rounded shadow-md overflow-y-scroll max-h-autosuggest"},"ul",c,!1),d),e._l(f,(function(r,o){return t("li",e._b({key:h[o].id,staticClass:"py-3 px-4 border-b border-nsw-grey-200 cursor-pointer hover:bg-nsw-grey-100",class:{"bg-nsw-grey-100":e.isRoleSelected(r)}},"li",h[o],!1),[t("div",{staticClass:"sm:flex justify-between"},[t("div",{staticClass:"mb-3 font-bold sm:whitespace-no-wrap"},[e._v("\n                  "+e._s(r.name)+"\n                ")]),e._v(" "),t("div",{staticClass:"flex flex-wrap mb-2 sm:mb-1 sm:justify-end"},[r.grade?t("information-badge",{staticClass:"mr-2 mb-2",attrs:{size:"xs",colour:"grey"}},[e._v("\n                    "+e._s(r.grade)+"\n                  ")]):e._e(),e._v(" "),r.salary.min&&r.salary.max?t("information-badge",{attrs:{size:"xs",colour:"grey"}},[e._v("\n                    Salary: "+e._s(e.$currency(r.salary.min))+" - "+e._s(e.$currency(r.salary.max))+"\n                  ")]):e._e()],1)]),e._v(" "),t("p",{staticClass:"text-sm"},[e._v("\n                "+e._s(r.description)+"\n              ")]),e._v(" "),r.alias&&r.alias.length>0?t("div",{staticClass:"mt-3"},[t("p",{staticClass:"text-sm"},[e._v("\n                  This role can also be known as: "),t("span",{staticClass:"font-bold"},[e._v(e._s(e.aliasList(r.alias)))])])]):e._e()])})),0):e._e()])]}}])})],1)])}),[],!1,null,"fbf35388",null);t.default=component.exports;installComponents(component,{InformationBadge:r(461).default})}}]);